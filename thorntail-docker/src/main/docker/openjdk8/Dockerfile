FROM centos:7

LABEL org.label-schema.description="Centos7 OpenJDK8 base image" \
      org.label-schema.name=openjdk8 \
      org.label-schema.version=${project.version} \
      org.label-schema.vcs-url=${git.remote.origin.url} \
      org.label-schema.vcs-ref=${git.commit.id}

# Update image and install OpenJDK 8
RUN yum update -y \
    && yum -y install java-1.8.0-openjdk-devel \
    && yum clean all

# Set JAVA_HOME environment variable
ENV JAVA_HOME /usr/lib/jvm/java

# Add run-java.sh script
COPY maven/run-java.sh /usr/local/bin
